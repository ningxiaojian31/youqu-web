<view><view id="main"><view class="pd-10 bg-fff"><block wx:if="{{list.length>0}}"><view class="content" style="{{'height:'+(style.contentViewHeight+'px')+';'}}" id="content"><scroll-view class="chat-window" style="{{'height:'+(style.contentViewHeight+'px')+';'}}" id="scrollview" scroll-y="true" scroll-with-animation="{{false}}" scroll-top="{{scrollTop}}"><block wx:for="{{list}}" wx:for-item="item" wx:for-index="index"><view class="m-item"><block wx:if="{{item.userid==userId}}"><view class="chatbox"><view class="flex-1" a="{{index}}"></view><view class="chatbox-desc-b mgb-5 mgr-5"><chat-msg vue-id="{{'237989a8-1-'+index}}" content="{{item.message}}" bind:__l="__l"></chat-msg></view><block wx:if="{{myImage==null||myImage==''}}"><image class="wh-40 mgr-10 bd-radius-10" src="../../static/chatImage.png"></image></block><block wx:if="{{myImage!=null&&myImage!=''}}"><image class="wh-40 mgr-10 bd-radius-10" src="{{myImage}}"></image></block></view></block><block wx:else><view class="chatbox"><block wx:if="{{chatData.image==null||chatData.image==''}}"><image class="wh-40 mgr-10 bd-radius-10" src="../../static/chatImage.png" data-event-opts="{{[['tap',[['toPersonal']]]]}}" bindtap="__e"></image></block><block wx:if="{{chatData.image!=null&&chatData.image!=''}}"><image class="wh-40 mgr-10 bd-radius-10" src="{{chatData.image}}" data-event-opts="{{[['tap',[['toPersonal']]]]}}" bindtap="__e"></image></block><view class="flex-1" a="{{index}}"><block wx:if="{{chatData.nickname==null||chatData.nickname==''}}"><view class="chatbox-nick-a mgb-5">{{chatData.username}}</view></block><block wx:if="{{chatData.nickname!=null&&chatData.nickname!=''}}"><view class="chatbox-nick-a mgb-5">{{chatData.nickname}}</view></block><view class="chatbox-desc-a"><chat-msg vue-id="{{'237989a8-2-'+index}}" content="{{item.message}}" bind:__l="__l"></chat-msg></view></view></view></block></view></block></scroll-view></view></block><block wx:else><view class="emptyData">暂无消息</view></block></view><view class="fixFoot-row"></view><view class="fixFoot bg-fff pdb-5"><view class="input-flex"><input class="input-flex-text" id="con" type="text" data-event-opts="{{[['input',[['__set_model',['','content','$event',[]]]]]]}}" value="{{content}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['send',['content']]]]]}}" class="input-flex-btn w60" bindtap="__e">发送</view></view><view class="flex flex-center"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="flex-1 iconfont icon-voicefill f20" bindtap="__e"></view><view data-event-opts="{{[['tap',[['choiceImg',['pic']]]]]}}" class="flex-1 iconfont icon-pic f20 sendPic" bindtap="__e"></view><view data-event-opts="{{[['tap',[['catchImg',['pic']]]]]}}" class="flex-1 iconfont icon-camera f20 sendPic" bindtap="__e"></view><view data-event-opts="{{[['tap',[['videoRecord',['video']]]]]}}" class="flex-1 iconfont icon-recordlight f20" bindtap="__e"></view><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="flex-1 iconfont icon-emoji f20" bindtap="__e"></view><view data-event-opts="{{[['tap',[['choiceFile',['file']]]]]}}" class="flex-1 iconfont none icon-file f20 " bindtap="__e"></view></view></view><view class="{{['modal-group',emoClass]}}" id="emoModal"><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="modal-mask" bindtap="__e"></view><view class="emoFixbox"><view class="pd-10"><view class="flex flex-wrap"><block wx:for="{{emoList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['addEmo',['$0'],[[['emoList','',index]]]]]]]}}" class="{{['imEmo','imEmo-'+index]}}" bindtap="__e"></view></block></view></view></view></view><view class="{{['modal-group',aRecordClass]}}"><view data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" class="modal-mask" bindtap="__e"></view><view data-event-opts="{{[['tap',[['aRecordToggle',['$event']]]]]}}" class="aRecordBox" bindtap="__e"><view class="{{['iconfont icon-voice f36',(aRecordIng)?'aRecord-active':'']}}"></view><block wx:if="{{aRecordIng}}"><view>点击结束</view></block><block wx:else><view>点击录音</view></block></view></view></view></view>